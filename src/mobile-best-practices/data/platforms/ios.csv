Category,Guideline,Description,Do,Dont,Code Good,Code Bad,Severity,Docs URL
SwiftUI,Use @State for Local State,Own view-local state with @State,@State for simple value types owned by view,@State for shared or complex state,"@State private var isExpanded = false","@State var viewModel = ViewModel() // wrong",High,https://developer.apple.com/documentation/swiftui/state
SwiftUI,Use @StateObject for ViewModels,Initialize ObservableObject with @StateObject,@StateObject in parent @ObservedObject in children,@ObservedObject for creation recreates on redraw,"@StateObject private var vm = MyViewModel()","@ObservedObject var vm = MyViewModel() // recreated",Critical,https://developer.apple.com/documentation/swiftui/stateobject
SwiftUI,Use @Environment,Access shared data via environment,@Environment for system @EnvironmentObject for custom,Pass dependencies through all init parameters,"@Environment(\.colorScheme) var colorScheme","init(colorScheme: ColorScheme) // drilling",Medium,https://developer.apple.com/documentation/swiftui/environment
SwiftUI,Prefer Value Types,Use structs over classes for models,Struct for data models enum for state,Classes for everything,"struct User { let name: String; let email: String }","class User { var name: String; var email: String }",Medium,
SwiftUI,Extract Subviews,Break complex views into smaller subviews,Extract when view body exceeds 30 lines,Massive view body hundreds of lines,"VStack { HeaderView(); ContentView(); FooterView() }","var body: some View { /* 200 lines */ }",Medium,
SwiftUI,Use ViewModifier,Create reusable ViewModifiers for common styling,ViewModifier for repeated style combinations,Duplicating modifier chains,"struct CardStyle: ViewModifier { func body(content: Content) -> some View { content.padding().background(.white).cornerRadius(12) } }",".padding().background(.white).cornerRadius(12) repeated",Low,
SwiftUI,Task over onAppear,Use .task instead of .onAppear for async work,.task handles cancellation automatically,.onAppear with manual Task management,".task { await vm.loadData() }",".onAppear { Task { await vm.loadData() } }",Medium,https://developer.apple.com/documentation/swiftui/view/task(priority:_:)
SwiftUI,NavigationStack,Use NavigationStack over NavigationView,NavigationStack with value-based navigation,NavigationView with NavigationLink destination,"NavigationStack(path: $path) { .navigationDestination(for: Item.self) { DetailView($0) } }","NavigationView { NavigationLink(destination: DetailView()) {} }",High,https://developer.apple.com/documentation/swiftui/navigationstack
SwiftUI,Lazy Stacks,Use LazyVStack/LazyHStack for long lists,LazyVStack inside ScrollView for large data,VStack for hundreds of items,"ScrollView { LazyVStack { ForEach(items) { ItemView($0) } } }","ScrollView { VStack { ForEach(items) { ItemView($0) } } }",High,
SwiftUI,Equatable Conformance,Conform models to Equatable for efficient diffing,Equatable on data models for efficient updates,No Equatable causing unnecessary redraws,"struct Item: Identifiable Equatable { let id: UUID; let title: String }","struct Item: Identifiable { let id: UUID; let title: String }",Medium,
Combine,async/await over Combine,Prefer async/await for new simple async code,async/await for one-shot async operations,Combine for simple one-shot async,"func fetchUser() async throws -> User { try await api.getUser() }","func fetchUser() -> AnyPublisher<User Never> { }",Medium,
Combine,Cancel Subscriptions,Store and cancel Combine subscriptions,Store in Set<AnyCancellable> cancel on deinit,Let subscriptions leak,"var cancellables = Set<AnyCancellable>(); pub.sink {}.store(in: &cancellables)","pub.sink { self.handle($0) } // not stored",High,
Combine,Receive on Main,Receive Combine values on main thread,Use .receive(on: DispatchQueue.main) before sink,Update UI from background thread,"pub.receive(on: DispatchQueue.main).sink { self.items = $0 }","pub.sink { self.items = $0 } // may be background",High,
Combine,Error Handling,Handle Combine publisher errors properly,Use catch replaceError or mapError,Ignore errors with assertNoFailure,"pub.catch { _ in Just(fallback) }.sink {}","pub.assertNoFailure().sink {} // crashes on error",High,
Combine,Debounce Input,Debounce user input before API calls,Debounce search text 300ms before searching,API call on every keystroke,"$searchText.debounce(for: .milliseconds(300) scheduler: RunLoop.main)","$searchText.sink { api.search($0) }",Medium,
Architecture,Coordinator Pattern,Use Coordinators for navigation logic,Separate navigation from views and VMs,Navigation logic in views,"class AppCoordinator { func showDetail(item: Item) { path.append(item) } }","Button { NavigationLink(destination: DetailView()) }",Medium,
Architecture,Protocol-Oriented,Use protocols for abstraction and testability,Define protocols for services and repositories,Concrete types everywhere,"protocol UserRepository { func getUser(id: Int) async throws -> User }","class UserService { func getUser() } // no protocol",High,
Architecture,Dependency Container,Use dependency container for DI,@EnvironmentObject or Factory for DI,Manual initialization everywhere,"@EnvironmentObject var userService: UserService","let service = UserService() // inline",Medium,
Architecture,Error Handling Strategy,Define consistent error handling,Typed errors with associated values,String error messages everywhere,"enum AppError: Error { case network(URLError); case validation(String) }","throw NSError(domain: '' code: -1)",Medium,
Architecture,Modular Architecture,Separate into Swift Packages,Use SPM for feature and core modules,Everything in single target,"Package: CoreNetwork FeatureHome FeatureProfile","Single Xcode target with all code",Medium,
Architecture,Observable Macro,Use @Observable macro iOS 17+ over ObservableObject,@Observable for simpler observation,ObservableObject with @Published for new projects,"@Observable class UserViewModel { var user: User? }","class UserViewModel: ObservableObject { @Published var user: User? }",Medium,https://developer.apple.com/documentation/observation/observable()
Architecture,Actor Thread Safety,Use Swift actors for thread-safe state,Actor for shared mutable state,DispatchQueue.sync for thread safety,"actor UserCache { private var users: [Int: User] = [:] }","class UserCache { let queue = DispatchQueue(label: 'cache') }",High,
Architecture,Sendable Conformance,Mark types Sendable for concurrency safety,Sendable for types crossing concurrency boundaries,Ignoring Sendable warnings,"struct UserDTO: Sendable { let name: String }","class UserDTO { var name: String } // not Sendable",Medium,https://developer.apple.com/documentation/swift/sendable
Performance,Instruments Profiling,Profile with Instruments regularly,Time Profiler Allocations Leaks,Only test on Simulator with print,"Product > Profile > Time Profiler","print(Date()) for timing",High,
Performance,Image Caching,Cache images with Kingfisher/Nuke,Use Kingfisher with downsampling for lists,Load images without cache,"KFImage(url).downsampling(size: CGSize(width: 200 height: 200))","AsyncImage(url: url) // no caching",High,
Performance,Background Fetch,Use BGTaskScheduler for background work,Schedule BGAppRefreshTask for periodic updates,Timer-based background polling,"BGTaskScheduler.shared.register(forTaskWithIdentifier: 'refresh') {}","Timer.scheduledTimer(interval: 60) {} // killed",High,https://developer.apple.com/documentation/backgroundtasks
Performance,Core Data Performance,Optimize Core Data fetch requests,NSFetchedResultsController batch size predicates,Fetch all records without batching,"request.fetchBatchSize = 20; request.predicate = active == YES","context.fetch(NSFetchRequest(entityName: 'Entity'))",Medium,
Performance,View Identity,Use stable identity for SwiftUI views,Stable id prevents unnecessary recreation,Random or changing id values,"ForEach(items id: \.stableId) { ItemView(item: $0) }","ForEach(items id: \.self) { } // mutable models",Medium,
Performance,Reduce View Updates,Minimize view body evaluation,Use EquatableView and targeted state changes,Broad state changes triggering full redraws,"EquatableView(content: ExpensiveView(data: data))","@State var flag // triggers full body evaluation",Medium,
Performance,Main Actor,Use @MainActor for UI-related code,Mark ViewModels and UI code with @MainActor,Manual DispatchQueue.main.async,"@MainActor class MyViewModel { func updateUI() {} }","DispatchQueue.main.async { self.updateUI() }",High,https://developer.apple.com/documentation/swift/mainactor
Testing,XCTest Async,Use async test methods for async code,async test functions with await,XCTestExpectation for async testing,"func testFetch() async throws { let user = try await vm.fetchUser(); XCTAssertEqual(user.name 'John') }","func testFetch() { let exp = expectation(); wait(for: [exp]) }",Medium,
Testing,Mock with Protocol,Mock dependencies via protocol conformance,Create mock implementing protocol for tests,Test with real services,"class MockUserRepo: UserRepository { func getUser(id: Int) async -> User { .mock } }","Test using real API calls",High,
Testing,Snapshot Testing,Use swift-snapshot-testing for visual regression,Snapshot test key UI states,Manual visual verification,"assertSnapshot(matching: MyView() as: .image(layout: .device(.iPhone13)))","Run app and visually check",Low,https://github.com/pointfreeco/swift-snapshot-testing
Testing,Test ViewModels,Test ViewModel logic independently,Test state changes outputs and side effects,Test views directly,"func testLoad() async { await vm.load(); XCTAssertEqual(vm.items.count 10) }","Test by rendering SwiftUI view",High,
Testing,XCUITest E2E,Use XCUITest for end-to-end flows,Test critical journeys with accessibility IDs,No automated UI testing,"let app = XCUIApplication(); app.launch(); app.buttons['Login'].tap()","Manual testing before release",Medium,https://developer.apple.com/documentation/xctest/xcuiapplication
