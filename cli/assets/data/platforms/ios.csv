Category,Guideline,Description,Do,Dont,Code Good,Code Bad,Severity,Docs URL
SwiftUI,Use @State for Local State,Own view-local state with @State,@State for simple value types owned by view,@State for shared or complex state,"@State private var isExpanded = false","@State var viewModel = ViewModel() // wrong",High,https://developer.apple.com/documentation/swiftui/state
SwiftUI,Use @StateObject for ViewModels,Initialize ObservableObject with @StateObject,@StateObject in parent @ObservedObject in children,@ObservedObject for creation recreates on redraw,"@StateObject private var vm = MyViewModel()","@ObservedObject var vm = MyViewModel() // recreated",Critical,https://developer.apple.com/documentation/swiftui/stateobject
SwiftUI,Use @Environment,Access shared data via environment,@Environment for system @EnvironmentObject for custom,Pass dependencies through all init parameters,"@Environment(\.colorScheme) var colorScheme","init(colorScheme: ColorScheme) // drilling",Medium,https://developer.apple.com/documentation/swiftui/environment
SwiftUI,Prefer Value Types,Use structs over classes for models,Struct for data models enum for state,Classes for everything,"struct User { let name: String; let email: String }","class User { var name: String; var email: String }",Medium,
SwiftUI,Extract Subviews,Break complex views into smaller subviews,Extract when view body exceeds 30 lines,Massive view body hundreds of lines,"VStack { HeaderView(); ContentView(); FooterView() }","var body: some View { /* 200 lines */ }",Medium,
SwiftUI,Use ViewModifier,Create reusable ViewModifiers for common styling,ViewModifier for repeated style combinations,Duplicating modifier chains,"struct CardStyle: ViewModifier { func body(content: Content) -> some View { content.padding().background(.white).cornerRadius(12) } }",".padding().background(.white).cornerRadius(12) repeated",Low,
SwiftUI,Task over onAppear,Use .task instead of .onAppear for async work,.task handles cancellation automatically,.onAppear with manual Task management,".task { await vm.loadData() }",".onAppear { Task { await vm.loadData() } }",Medium,https://developer.apple.com/documentation/swiftui/view/task(priority:_:)
SwiftUI,NavigationStack,Use NavigationStack over NavigationView,NavigationStack with value-based navigation,NavigationView with NavigationLink destination,"NavigationStack(path: $path) { .navigationDestination(for: Item.self) { DetailView($0) } }","NavigationView { NavigationLink(destination: DetailView()) {} }",High,https://developer.apple.com/documentation/swiftui/navigationstack
SwiftUI,Lazy Stacks,Use LazyVStack/LazyHStack for long lists,LazyVStack inside ScrollView for large data,VStack for hundreds of items,"ScrollView { LazyVStack { ForEach(items) { ItemView($0) } } }","ScrollView { VStack { ForEach(items) { ItemView($0) } } }",High,
SwiftUI,Equatable Conformance,Conform models to Equatable for efficient diffing,Equatable on data models for efficient updates,No Equatable causing unnecessary redraws,"struct Item: Identifiable Equatable { let id: UUID; let title: String }","struct Item: Identifiable { let id: UUID; let title: String }",Medium,
Combine,async/await over Combine,Prefer async/await for new simple async code,async/await for one-shot async operations,Combine for simple one-shot async,"func fetchUser() async throws -> User { try await api.getUser() }","func fetchUser() -> AnyPublisher<User Never> { }",Medium,
Combine,Cancel Subscriptions,Store and cancel Combine subscriptions,Store in Set<AnyCancellable> cancel on deinit,Let subscriptions leak,"var cancellables = Set<AnyCancellable>(); pub.sink {}.store(in: &cancellables)","pub.sink { self.handle($0) } // not stored",High,
Combine,Receive on Main,Receive Combine values on main thread,Use .receive(on: DispatchQueue.main) before sink,Update UI from background thread,"pub.receive(on: DispatchQueue.main).sink { self.items = $0 }","pub.sink { self.items = $0 } // may be background",High,
Combine,Error Handling,Handle Combine publisher errors properly,Use catch replaceError or mapError,Ignore errors with assertNoFailure,"pub.catch { _ in Just(fallback) }.sink {}","pub.assertNoFailure().sink {} // crashes on error",High,
Combine,Debounce Input,Debounce user input before API calls,Debounce search text 300ms before searching,API call on every keystroke,"$searchText.debounce(for: .milliseconds(300) scheduler: RunLoop.main)","$searchText.sink { api.search($0) }",Medium,
Architecture,Coordinator Pattern,Use Coordinators for navigation logic,Separate navigation from views and VMs,Navigation logic in views,"class AppCoordinator { func showDetail(item: Item) { path.append(item) } }","Button { NavigationLink(destination: DetailView()) }",Medium,
Architecture,Protocol-Oriented,Use protocols for abstraction and testability,Define protocols for services and repositories,Concrete types everywhere,"protocol UserRepository { func getUser(id: Int) async throws -> User }","class UserService { func getUser() } // no protocol",High,
Architecture,Dependency Container,Use dependency container for DI,@EnvironmentObject or Factory for DI,Manual initialization everywhere,"@EnvironmentObject var userService: UserService","let service = UserService() // inline",Medium,
Architecture,Error Handling Strategy,Define consistent error handling,Typed errors with associated values,String error messages everywhere,"enum AppError: Error { case network(URLError); case validation(String) }","throw NSError(domain: '' code: -1)",Medium,
Architecture,Modular Architecture,Separate into Swift Packages,Use SPM for feature and core modules,Everything in single target,"Package: CoreNetwork FeatureHome FeatureProfile","Single Xcode target with all code",Medium,
Architecture,Observable Macro,Use @Observable macro iOS 17+ over ObservableObject,@Observable for simpler observation,ObservableObject with @Published for new projects,"@Observable class UserViewModel { var user: User? }","class UserViewModel: ObservableObject { @Published var user: User? }",Medium,https://developer.apple.com/documentation/observation/observable()
Architecture,Actor Thread Safety,Use Swift actors for thread-safe state,Actor for shared mutable state,DispatchQueue.sync for thread safety,"actor UserCache { private var users: [Int: User] = [:] }","class UserCache { let queue = DispatchQueue(label: 'cache') }",High,
Architecture,Sendable Conformance,Mark types Sendable for concurrency safety,Sendable for types crossing concurrency boundaries,Ignoring Sendable warnings,"struct UserDTO: Sendable { let name: String }","class UserDTO { var name: String } // not Sendable",Medium,https://developer.apple.com/documentation/swift/sendable
Performance,Instruments Profiling,Profile with Instruments regularly,Time Profiler Allocations Leaks,Only test on Simulator with print,"Product > Profile > Time Profiler","print(Date()) for timing",High,
Performance,Image Caching,Cache images with Kingfisher/Nuke,Use Kingfisher with downsampling for lists,Load images without cache,"KFImage(url).downsampling(size: CGSize(width: 200 height: 200))","AsyncImage(url: url) // no caching",High,
Performance,Background Fetch,Use BGTaskScheduler for background work,Schedule BGAppRefreshTask for periodic updates,Timer-based background polling,"BGTaskScheduler.shared.register(forTaskWithIdentifier: 'refresh') {}","Timer.scheduledTimer(interval: 60) {} // killed",High,https://developer.apple.com/documentation/backgroundtasks
Performance,Core Data Performance,Optimize Core Data fetch requests,NSFetchedResultsController batch size predicates,Fetch all records without batching,"request.fetchBatchSize = 20; request.predicate = active == YES","context.fetch(NSFetchRequest(entityName: 'Entity'))",Medium,
Performance,View Identity,Use stable identity for SwiftUI views,Stable id prevents unnecessary recreation,Random or changing id values,"ForEach(items id: \.stableId) { ItemView(item: $0) }","ForEach(items id: \.self) { } // mutable models",Medium,
Performance,Reduce View Updates,Minimize view body evaluation,Use EquatableView and targeted state changes,Broad state changes triggering full redraws,"EquatableView(content: ExpensiveView(data: data))","@State var flag // triggers full body evaluation",Medium,
Performance,Main Actor,Use @MainActor for UI-related code,Mark ViewModels and UI code with @MainActor,Manual DispatchQueue.main.async,"@MainActor class MyViewModel { func updateUI() {} }","DispatchQueue.main.async { self.updateUI() }",High,https://developer.apple.com/documentation/swift/mainactor
Testing,XCTest Async,Use async test methods for async code,async test functions with await,XCTestExpectation for async testing,"func testFetch() async throws { let user = try await vm.fetchUser(); XCTAssertEqual(user.name 'John') }","func testFetch() { let exp = expectation(); wait(for: [exp]) }",Medium,
Testing,Mock with Protocol,Mock dependencies via protocol conformance,Create mock implementing protocol for tests,Test with real services,"class MockUserRepo: UserRepository { func getUser(id: Int) async -> User { .mock } }","Test using real API calls",High,
Testing,Snapshot Testing,Use swift-snapshot-testing for visual regression,Snapshot test key UI states,Manual visual verification,"assertSnapshot(matching: MyView() as: .image(layout: .device(.iPhone13)))","Run app and visually check",Low,https://github.com/pointfreeco/swift-snapshot-testing
Testing,Test ViewModels,Test ViewModel logic independently,Test state changes outputs and side effects,Test views directly,"func testLoad() async { await vm.load(); XCTAssertEqual(vm.items.count 10) }","Test by rendering SwiftUI view",High,
Testing,XCUITest E2E,Use XCUITest for end-to-end flows,Test critical journeys with accessibility IDs,No automated UI testing,"let app = XCUIApplication(); app.launch(); app.buttons['Login'].tap()","Manual testing before release",Medium,https://developer.apple.com/documentation/xctest/xcuiapplication
SwiftData,@Model Macro,Use @Model for persistence instead of CoreData entities,Annotate model classes with @Model for automatic persistence,Use NSManagedObject subclasses for new projects,@Model class Todo { var title: String; var isDone: Bool; init(title: String) { self.title = title; isDone = false } },class Todo: NSManagedObject { @NSManaged var title: String } // CoreData boilerplate,High,https://developer.apple.com/documentation/swiftdata/model()
SwiftData,ModelContainer Setup,Configure SwiftData container with schema and configuration,Create ModelContainer in App with explicit schema,Initialize container in every view,@main struct App { var body: some Scene { WindowGroup { ContentView() }.modelContainer(for: [Todo.self]) } },// Create container in each ViewController separately,Medium,https://developer.apple.com/documentation/swiftdata/modelcontainer
SwiftData,@Query Property Wrapper,Use @Query for reactive data fetching in SwiftUI,Use @Query with sort and filter predicates,Manually fetch and manage arrays of objects,@Query(sort: \Todo.createdAt order: .reverse) var todos: [Todo],@State var todos: [Todo] = []; func loadTodos() { todos = context.fetch() },High,https://developer.apple.com/documentation/swiftdata/query
Swift 6,Strict Concurrency,Enable Swift 6 strict concurrency checking,Mark types with @Sendable; use actors for shared state,Ignore concurrency warnings; use shared mutable state,actor UserManager { private var users: [User] = []; func add(_ user: User) { users.append(user) } },class UserManager { var users: [User] = [] } // data race potential,Critical,https://developer.apple.com/documentation/swift/sendable
Swift 6,@Observable Macro,Use @Observable instead of ObservableObject for iOS 17+,Use @Observable for granular observation tracking,Use ObservableObject with multiple @Published properties,@Observable class ViewModel { var name = ''; var age = 0 },class ViewModel: ObservableObject { @Published var name = ''; @Published var age = 0 },High,https://developer.apple.com/documentation/observation/observable()
Swift 6,Typed Throws,Use typed throws for explicit error handling,Specify error types in function signatures,Throw and catch untyped errors,func load() throws(NetworkError) { throw .timeout },func load() throws { throw NSError(domain: '' code: 0) },Medium,https://developer.apple.com/documentation/swift
TipKit,App Tips,Use TipKit for contextual user guidance,Show tips for discoverable features; respect frequency rules,Show alerts or custom tooltips for feature education,struct FavoriteTip: Tip { var title: Text { Text('Add Favorites') }; var message: Text? { Text('Tap heart to save') } },UIAlertController for feature hints // modal and interruptive,Medium,https://developer.apple.com/documentation/tipkit
WidgetKit,Widget Timeline,Create widgets with proper timeline management,Use TimelineProvider with appropriate refresh policy,Refresh widget too frequently or not enough,func getTimeline(in context: Context completion: @escaping (Timeline<Entry>) -> ()) { let entries = [Entry(date: .now)]; completion(Timeline(entries: entries policy: .atEnd)) },Timer.scheduledTimer { WidgetCenter.shared.reloadAllTimelines() } // too frequent,High,https://developer.apple.com/documentation/widgetkit
App Intents,App Shortcuts,Use App Intents for Siri and Shortcuts integration,Create AppIntent structs for actionable features,Use SiriKit intents for new shortcuts,struct OrderCoffee: AppIntent { static var title: LocalizedStringResource = 'Order Coffee'; func perform() async throws -> some IntentResult { .result() } },class OrderCoffeeHandler: INExtension // old SiriKit,Medium,https://developer.apple.com/documentation/appintents
Live Activities,Dynamic Island,Use Live Activities and Dynamic Island for real-time updates,Show ongoing activity state in Lock Screen and Dynamic Island,Use push notifications for real-time status,struct DeliveryActivity: Widget { var body: some WidgetConfiguration { ActivityConfiguration(for: DeliveryAttributes.self) { context in DeliveryView(state: context.state) } } },Send push notification every minute for delivery status,High,https://developer.apple.com/documentation/activitykit
Concurrency,AsyncSequence,Use AsyncSequence for asynchronous iteration,Use for-await-in for streaming data,Use completion handler chains for sequential async,for await notification in NotificationCenter.default.notifications(named: .didUpdate) { process(notification) },NotificationCenter.addObserver { result in completion(result) } // callback hell,Medium,https://developer.apple.com/documentation/swift/asyncsequence
Concurrency,TaskGroup Parallelism,Use TaskGroup for structured parallel work,Process independent tasks concurrently with TaskGroup,Await tasks sequentially when they could run in parallel,let results = await withTaskGroup(of: Data.self returning: [Data].self) { group in urls.forEach { url in group.addTask { await fetch(url) } }; return await group.reduce(into: []) { $0.append($1) } },var results: [Data] = []; for url in urls { results.append(await fetch(url)) } // sequential,High,https://developer.apple.com/documentation/swift/taskgroup
Privacy,Privacy Manifest,Declare API reasons in privacy manifest,Add PrivacyInfo.xcprivacy with required API declarations,Ship without privacy manifest; App Store rejection,// PrivacyInfo.xcprivacy: NSPrivacyAccessedAPITypes with NSPrivacyAccessedAPITypeReasons,// No privacy manifest; rejected by App Store review,Critical,https://developer.apple.com/documentation/bundleresources/privacy_manifest_files
Privacy,Tracking Transparency,Request tracking permission before IDFA access,Use ATTrackingManager.requestTrackingAuthorization before tracking,Access IDFA without permission; App Store rejection,ATTrackingManager.requestTrackingAuthorization { status in if status == .authorized { enableTracking() } },let idfa = ASIdentifierManager.shared().advertisingIdentifier // without permission,Critical,https://developer.apple.com/documentation/apptrackingtransparency
Architecture,Navigation Path,Use NavigationPath for type-safe programmatic navigation,Maintain NavigationPath in coordinator or router,Use NavigationLink with destination for all navigation,@State private var path = NavigationPath(); NavigationStack(path: $path) { ... }; path.append(DetailRoute(id: 1)),NavigationLink(destination: DetailView(id: 1)) { Text('Go') } // scattered navigation,High,https://developer.apple.com/documentation/swiftui/navigationpath
Architecture,Environment Values,Use @Environment for dependency injection in SwiftUI,Pass dependencies through SwiftUI Environment,Create singletons or pass dependencies through init chains,@Environment(\.modelContext) private var context; @Environment(\.dismiss) private var dismiss,static let shared = DatabaseManager() // singleton anti-pattern,Medium,https://developer.apple.com/documentation/swiftui/environment
Accessibility,Dynamic Type,Support Dynamic Type for text scaling,Use system fonts and dynamic type sizes,Hardcode font sizes; ignore accessibility settings,Text('Hello').font(.body) // scales with Dynamic Type,Text('Hello').font(.system(size: 16)) // fixed size; ignores user preference,High,https://developer.apple.com/documentation/swiftui/dynamictypesize
Accessibility,VoiceOver Labels,Add accessibility labels to all interactive elements,Use accessibilityLabel and accessibilityHint,Leave images and buttons without labels,Image(systemName: 'heart.fill').accessibilityLabel('Add to favorites'),Image(systemName: 'heart.fill') // VoiceOver says 'heart.fill image',High,https://developer.apple.com/documentation/accessibility
Performance,Lazy Navigation,Use lazy loading for navigation destinations,Use NavigationLink with lazy value-based navigation,Load all destination views eagerly,NavigationLink(value: item) { ItemRow(item) } // destination loaded on tap,NavigationLink(destination: HeavyView()) { Text('Go') } // HeavyView created immediately,Medium,https://developer.apple.com/documentation/swiftui/navigationlink
Performance,View Identity,Use stable IDs for List and ForEach performance,Use Identifiable protocol with stable IDs,Use array index or random UUID as identifier,ForEach(items) { item in ItemRow(item: item) } // items: Identifiable,ForEach(0..<items.count id: \.self) { i in ItemRow(item: items[i]) } // index-based,High,
UI,SF Symbols,Use SF Symbols for consistent iconography,Use system SF Symbols with rendering modes,Use custom PNG icons for common system actions,Image(systemName: 'star.fill').symbolRenderingMode(.hierarchical),UIImage(named: 'custom_star_icon') // custom asset for standard action,Low,https://developer.apple.com/sf-symbols/
UI,ViewModifier,Create custom ViewModifiers for reusable styling,Extract repeated styling into ViewModifier,Duplicate modifier chains across views,struct CardStyle: ViewModifier { func body(content: Content) -> some View { content.padding().background(.regularMaterial).cornerRadius(12) } },Text('A').padding().background(.regularMaterial).cornerRadius(12) // duplicated everywhere,Medium,https://developer.apple.com/documentation/swiftui/viewmodifier
Testing,Preview Macros,Use #Preview macro for SwiftUI previews,Use #Preview with different states and configurations,No previews or outdated preview code,#Preview('Dark Mode') { ContentView().preferredColorScheme(.dark) },struct ContentView_Previews: PreviewProvider { static var previews: some View { ContentView() } } // old API,Low,https://developer.apple.com/documentation/swiftui/preview()
Architecture,Transferable Protocol,Use Transferable for drag-and-drop and sharing,Implement Transferable for data sharing between apps,Use UIActivityItemProvider manually,struct Photo: Transferable { static var transferRepresentation: some TransferRepresentation { FileRepresentation(contentType: .png) { ... } } },// Manual UIActivityViewController setup with custom item provider,Medium,https://developer.apple.com/documentation/coretransferable/transferable
Concurrency,Actor Isolation,Use actor isolation for thread-safe shared state,Isolate shared mutable state in actors; use MainActor for UI,Use DispatchQueue.sync for thread safety,@MainActor class ViewModel { var items: [Item] = [] },DispatchQueue.main.async { self.items = newItems } // old pattern,High,https://developer.apple.com/documentation/swift/actor
