Category,Guideline,Description,Do,Dont,Code Good,Code Bad,Severity,Docs URL
Compose,State Hoisting,Hoist state to caller for reusable composables,Hoist state to caller pass via parameters,Put state inside low-level composables,"fun Counter(count: Int onIncrement: () -> Unit)","fun Counter() { var count by remember { mutableStateOf(0) } }",High,https://developer.android.com/develop/ui/compose/state#state-hoisting
Compose,rememberSaveable,Use rememberSaveable to survive config changes,rememberSaveable for user input and visible state,remember for state that must survive rotation,"val text by rememberSaveable { mutableStateOf("""") }","val text by remember { mutableStateOf("""") }",High,https://developer.android.com/develop/ui/compose/state#restore-ui-state
Compose,LazyColumn Keys,Always provide stable keys for LazyColumn items,Use unique ID from data model as key,Use index or no key,"LazyColumn { items(list key = { it.id }) { } }","LazyColumn { items(list) { } }",High,https://developer.android.com/develop/ui/compose/lists#item-keys
Compose,Stable Annotations,Mark classes @Stable or @Immutable for skip optimization,Use @Immutable for truly immutable data classes,Pass mutable classes to composables,"@Immutable data class UiState(val items: ImmutableList<Item>)","data class UiState(val items: List<Item>) // unstable",Medium,https://developer.android.com/develop/ui/compose/performance/stability
Compose,derivedStateOf,Use derivedStateOf for computed values from other states,Wrap expensive computations depending on state,Compute in composition on every recomposition,"val filtered by remember { derivedStateOf { list.filter { it.active } } }","val filtered = list.filter { it.active } // recomputes every recomposition",Medium,https://developer.android.com/develop/ui/compose/side-effects#derivedstateof
Compose,Modifier Order,Modifier order matters - applied outside-in,Apply clickable before padding for larger touch target,Random modifier ordering,"Modifier.clickable { }.padding(16.dp)","Modifier.padding(16.dp).clickable { } // small touch target",Medium,https://developer.android.com/develop/ui/compose/modifiers#order-matters
Compose,Side Effects,Use LaunchedEffect/DisposableEffect for side effects,LaunchedEffect for coroutines DisposableEffect for cleanup,Launch coroutines in composition directly,"LaunchedEffect(key) { viewModel.load() }","rememberCoroutineScope().launch { } // in composition",High,https://developer.android.com/develop/ui/compose/side-effects
Compose,CompositionLocal,Use CompositionLocal sparingly for implicit data,Use for theme-level or widely-used dependencies,Use for passing regular business data,"val LocalAnalytics = staticCompositionLocalOf<Analytics> { error('') }","CompositionLocal for every dependency",Low,https://developer.android.com/develop/ui/compose/compositionlocal
Compose,Slot APIs,Use slot APIs (content lambdas) for flexible composables,Accept @Composable content parameters,Hardcode composable content,"fun Card(content: @Composable () -> Unit) { Surface { content() } }","fun Card(title: String body: String) // inflexible",Medium,https://developer.android.com/develop/ui/compose/layouts/basics
Compose,Preview,Write Compose previews for rapid iteration,Create previews with different states and themes,Skip previews for composables,"@Preview @Composable fun MyScreenPreview() { MyScreen(UiState.Success(mock)) }","No previews only test on device",Low,https://developer.android.com/develop/ui/compose/tooling/previews
Architecture,ViewModel Scope,Use viewModelScope for coroutines in ViewModel,Launch in viewModelScope auto-cancelled on clear,Create custom CoroutineScope in ViewModel,"viewModelScope.launch { repo.fetchData() }","CoroutineScope(Dispatchers.Main) // not cancelled",High,https://developer.android.com/topic/libraries/architecture/viewmodel
Architecture,StateFlow over LiveData,Prefer StateFlow over LiveData in new code,Use StateFlow with collectAsStateWithLifecycle,Use LiveData in Compose projects,"val state: StateFlow<UiState> = _state.asStateFlow()","val state: LiveData<UiState> = _state",Medium,https://developer.android.com/kotlin/flow/stateflow-and-sharedflow
Architecture,Single Activity,Use single Activity with Navigation Compose,One Activity multiple composable destinations,Multiple Activities for each screen,"NavHost(navController startDest = 'home') { composable('home') {} }","startActivity(Intent(this DetailActivity::class.java))",Medium,https://developer.android.com/guide/navigation/get-started
Architecture,Hilt ViewModel Injection,Inject dependencies into ViewModel via Hilt,Use @HiltViewModel with @Inject constructor,Create ViewModel with manual factory,"@HiltViewModel class MyVM @Inject constructor(val repo: Repo) : ViewModel()","class MyVM : ViewModel() { val repo = Repo(ApiService()) }",High,https://developer.android.com/training/dependency-injection/hilt-android
Architecture,Repository Pattern,Abstract data sources behind Repository interface,Repository mediates between data sources and domain,ViewModel directly calls API or database,"class UserRepo(val api: Api val db: Db) { suspend fun getUser(id) = db.get(id) ?: api.fetch(id) }","class MyVM { val data = Retrofit.create(Api::class).getData() }",High,https://developer.android.com/topic/architecture/data-layer
Architecture,Sealed Interface for State,Use sealed interface for UI state modeling,Represent all possible states explicitly,Use nullable booleans for state,"sealed interface UiState { data object Loading; data class Success(val data: List<Item>); data class Error(val msg: String) }","data class UiState(val data: List<Item>? val loading: Boolean val error: String?)",High,
Architecture,SavedStateHandle,Use SavedStateHandle for process death survival,Save minimal UI state in SavedStateHandle,Rely only on ViewModel surviving,class MyVM(saved: SavedStateHandle) { val query = saved.getStateFlow('query' '') },class MyVM { var query = '' } // lost on process death,Medium,https://developer.android.com/topic/libraries/architecture/viewmodel/viewmodel-savedstate
Architecture,Multi-Module Structure,Organize large projects into feature modules,feature/ core/ app/ modules with clear boundaries,Single monolithic app module,"feature-home/ feature-auth/ core-network/ core-database/ app/","app/src/main/java/com/myapp/everything/",Medium,https://developer.android.com/topic/modularization
Coroutines,Dispatchers Usage,Use correct dispatcher for the work type,IO for network/disk Main for UI Default for CPU,Use Dispatchers.Main for everything,"withContext(Dispatchers.IO) { repo.fetchData() }","GlobalScope.launch(Dispatchers.Main) { api.fetch() }",High,https://developer.android.com/kotlin/coroutines/coroutines-best-practices
Coroutines,Structured Concurrency,Use structured concurrency never GlobalScope,Use viewModelScope lifecycleScope or coroutineScope,Use GlobalScope for fire-and-forget,"viewModelScope.launch { loadData() }","GlobalScope.launch { loadData() } // leaks",Critical,https://developer.android.com/kotlin/coroutines/coroutines-best-practices
Coroutines,Exception Handling,Handle coroutine exceptions properly,Use try-catch or CoroutineExceptionHandler,Let exceptions crash silently,"try { api.fetch() } catch (e: Exception) { emit(Error(e.message)) }","launch { api.fetch() } // exception swallowed",High,
Coroutines,Flow Collection,Collect Flow lifecycle-aware in Compose,Use collectAsStateWithLifecycle,Use collectAsState without lifecycle,"val state by viewModel.state.collectAsStateWithLifecycle()","val state by viewModel.state.collectAsState() // collects invisible",High,https://developer.android.com/kotlin/flow/stateflow-and-sharedflow
Coroutines,Cancellation,Respect coroutine cancellation properly,Check isActive use ensureActive() in loops,Ignore cancellation in long work,"while (isActive) { processNextItem() }","while (true) { processNextItem() } // not cancellable",Medium,
Lifecycle,Lifecycle-aware Collection,Collect flows respecting lifecycle,Use repeatOnLifecycle or flowWithLifecycle,Collect in onCreate without lifecycle,"lifecycleScope.launch { repeatOnLifecycle(STARTED) { flow.collect {} } }","lifecycleScope.launch { flow.collect {} } // background",Critical,https://developer.android.com/topic/libraries/architecture/coroutines
Lifecycle,Configuration Change,Handle configuration changes properly,Use ViewModel + rememberSaveable,Manually handle configChanges in manifest,"ViewModel survives; rememberSaveable for UI state","android:configChanges='orientation' // blocks handling",High,https://developer.android.com/guide/topics/resources/runtime-changes
Lifecycle,Process Death,Handle process death restoration,Save state in SavedStateHandle and restore,Assume ViewModel always survives,"SavedStateHandle for nav args and transient state","Only ViewModel without SavedStateHandle",Medium,https://developer.android.com/topic/libraries/architecture/saving-states
Lifecycle,onCleared Cleanup,Clean up resources in ViewModel onCleared,Cancel jobs close connections in onCleared,Let resources leak after ViewModel destroyed,"override fun onCleared() { connection.close() }","No cleanup in onCleared",High,
Lifecycle,BackHandler,Handle predictive back gesture properly,Use BackHandler composable for custom back,Override onBackPressed in Activity,"BackHandler(enabled = showDialog) { showDialog = false }","override fun onBackPressed() {} // deprecated",Medium,https://developer.android.com/develop/ui/views/touch-and-input/gestures/predictive-back
Performance,Baseline Profile,Generate Baseline Profiles for startup,Use Macrobenchmark to generate include in app,Skip baseline profiles for release,"profileinstaller + macrobenchmark BaselineProfileRule","No baseline profile module",High,https://developer.android.com/topic/performance/baselineprofiles
Performance,R8 Full Mode,Enable R8 full mode for max optimization,Set android.enableR8.fullMode=true,Use default R8 mode only,"android.enableR8.fullMode=true in gradle.properties","Default R8 without full mode",Medium,https://developer.android.com/build/shrink-code
Performance,Strict Mode,Use StrictMode in debug to detect issues,Enable disk/network on main thread detection,Run StrictMode in release,"StrictMode.setThreadPolicy(detectAll().penaltyLog().build())","No StrictMode configured",Medium,https://developer.android.com/reference/android/os/StrictMode
Performance,Compose Stability,Check Compose compiler stability report,Generate stability report fix unstable params,Ignore stability warnings,"composeCompiler { reportsDestination = buildDir('compose_reports') }","No stability analysis",Medium,https://developer.android.com/develop/ui/compose/performance/stability
Performance,Image Loading Size,Load images at display size not original,Use Coil/Glide size transformations,Load full-res images into small views,"AsyncImage(model = ImageRequest.Builder(ctx).data(url).size(200).build())","AsyncImage(model = url) // loads full size",High,
Performance,ProGuard Rules,Write correct ProGuard/R8 rules,Keep serialization models add rules for reflection,Keep everything or nothing,"-keep class com.myapp.model.** { *; }","-keep class ** { *; } // keeps everything",Medium,https://developer.android.com/build/shrink-code
Performance,Lazy Performance,Optimize LazyColumn/LazyRow performance,Use key contentType avoid heavy items,No keys no contentType,"LazyColumn { items(list key = { it.id } contentType = { it.type }) {} }","LazyColumn { items(list) { HeavyComposable() } }",High,https://developer.android.com/develop/ui/compose/lists
Testing,Compose Test Rule,Use ComposeTestRule for UI tests,Set up test rule with createComposeRule,Test compose with Espresso only,"@get:Rule val rule = createComposeRule(); rule.setContent { MyScreen() }","ActivityScenarioRule for Compose tests",Medium,https://developer.android.com/develop/ui/compose/testing
Testing,Coroutine Test,Use runTest for testing coroutines,Use Turbine for Flow TestDispatcher for time,Test with Thread.sleep or delay,"runTest { viewModel.state.test { assertEquals(Loading awaitItem()) } }","runBlocking { delay(1000); assertEquals(expected) }",High,https://developer.android.com/kotlin/coroutines/test
Testing,Hilt Test,Use HiltTestApplication for integration tests,Annotate @HiltAndroidTest use @BindValue for fakes,Create Hilt modules manually in tests,"@HiltAndroidTest class MyTest { @BindValue val repo: Repo = FakeRepo() }","Manual DI setup in test classes",Medium,https://developer.android.com/training/dependency-injection/hilt-testing
Testing,Screenshot Test,Use Paparazzi for Compose screenshot tests,Test visual regressions without emulator,Only visual testing on device,"@Test fun snapshot() { paparazzi.snapshot { MyScreen(state) } }","Manual visual checking only",Low,https://github.com/cashapp/paparazzi
Material3,Dynamic Color,Use dynamic color theming with Material3,dynamicDarkColorScheme/dynamicLightColorScheme on Android 12+,Hardcoded colors ignoring system theme,"val colorScheme = if (Build.VERSION.SDK_INT >= 31) dynamicDarkColorScheme(context) else DarkColorScheme","val colorScheme = darkColorScheme() // ignores wallpaper",Medium,https://developer.android.com/develop/ui/compose/designsystems/material3
Material3,TopAppBar Scroll,Use TopAppBar with scroll behavior,TopAppBar with scrollBehavior for collapsing,Static TopAppBar that doesn't respond to scroll,"TopAppBar(title = { Text(title) } scrollBehavior = scrollBehavior)","TopAppBar(title = { Text(title) }) // no scroll behavior",Medium,https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#TopAppBar
Material3,Scaffold Usage,Use Scaffold for standard screen layout,Scaffold with topBar bottomBar snackbarHost floatingActionButton,Manual Column layout mimicking scaffold,"Scaffold(topBar = { TopAppBar() } bottomBar = { NavBar() } snackbarHost = { SnackbarHost(hostState) }) { paddingValues -> Content(Modifier.padding(paddingValues)) }","Column { TopBar(); Content(); BottomBar() } // no insets",High,https://developer.android.com/develop/ui/compose/components/scaffold
Material3,SnackbarHost,Use SnackbarHostState with Scaffold for snackbars,SnackbarHostState + LaunchedEffect to show snackbar,Toast.makeText for user feedback,"val snackbarHostState = remember { SnackbarHostState() }; LaunchedEffect(message) { snackbarHostState.showSnackbar(message) }","Toast.makeText(context message Toast.LENGTH_SHORT).show()",Medium,https://developer.android.com/develop/ui/compose/components/snackbar
Material3,BottomSheet,Use ModalBottomSheet from Material3,ModalBottomSheet with rememberModalBottomSheetState,Custom Dialog trying to look like bottom sheet,"ModalBottomSheet(onDismissRequest = { onDismiss() } sheetState = sheetState) { Content() }","Dialog { Surface(shape = BottomSheetShape) { Content() } } // wrong",Medium,https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#ModalBottomSheet
Material3,TextField Variants,Use OutlinedTextField or TextField from M3,OutlinedTextField with proper label supportingText isError,BasicTextField for standard input,OutlinedTextField(value = text onValueChange = { text = it } label = { Text('Email') } isError = hasError supportingText = { if (hasError) Text('Invalid email') }),"BasicTextField(value = text onValueChange = { text = it }) // no styling",Medium,https://developer.android.com/develop/ui/compose/text/user-input
Material3,NavigationBar,Use NavigationBar for bottom navigation,NavigationBar with NavigationBarItem and selected state,Custom Row with icon buttons for navigation,"NavigationBar { items.forEach { NavigationBarItem(selected = it == current onClick = { nav(it) } icon = { Icon(it.icon) } label = { Text(it.label) }) } }","Row { icons.forEach { IconButton(onClick = {}) { Icon(it) } } }",High,https://developer.android.com/develop/ui/compose/components/bottom-navigation
Material3,Adaptive Layout,Use adaptive layouts for different screen sizes,WindowSizeClass for responsive layout decisions,Fixed layout ignoring screen size,"val windowSizeClass = calculateWindowSizeClass(this); when (windowSizeClass.widthSizeClass) { Compact -> PhoneLayout(); Medium -> TabletLayout() }","Fixed single-column layout on all screens",Medium,https://developer.android.com/develop/ui/compose/layouts/adaptive
Gradle,Version Catalog,Use Gradle Version Catalog (libs.versions.toml),Centralize versions in gradle/libs.versions.toml,Hardcode versions in each build.gradle,"implementation(libs.compose.material3) // from version catalog","implementation('androidx.compose.material3:material3:1.2.0') // hardcoded",High,https://developer.android.com/build/migrate-to-catalogs
Gradle,Convention Plugins,Use convention plugins for shared build logic,buildSrc or build-logic module with convention plugins,Copy-paste build config across modules,"plugins { id('myapp.android.library') } // convention plugin","Duplicate android {} block in every module",Medium,https://developer.android.com/build/migrate-to-catalogs
Gradle,Compose BOM,Use Compose BOM to manage Compose versions,Single BOM controls all Compose library versions,Manually version each Compose dependency,"implementation(platform(libs.compose.bom)); implementation(libs.compose.material3) // no version","implementation('androidx.compose.ui:ui:1.6.0') // manual version",High,https://developer.android.com/develop/ui/compose/bom
Gradle,KSP over KAPT,Use KSP instead of KAPT for annotation processing,KSP for Hilt Room Moshi - 2x faster builds,KAPT slows build and is in maintenance mode,"ksp(libs.hilt.compiler); ksp(libs.room.compiler)","kapt(libs.hilt.compiler) // slower deprecated",High,https://developer.android.com/build/migrate-to-ksp
Gradle,Build Config,Use BuildConfig for environment-specific values,buildConfigField for API URLs and feature flags,Hardcode API URLs in source code,"buildConfigField('String' 'BASE_URL' '\"https://api.example.com\"')","const val BASE_URL = 'https://api.example.com' // hardcoded",Medium,
Gradle,Dependency Configurations,Use correct dependency configurations,implementation for internal api for exposed testImplementation for tests,Use api for everything leaking transitive deps,"implementation(libs.retrofit) // internal to module","api(libs.retrofit) // exposes to all consumers",Medium,https://developer.android.com/build/dependencies
Navigation,Type-Safe Routes,Use type-safe Navigation Compose routes,@Serializable data classes for route definitions,String-based route patterns,"@Serializable data class DetailRoute(val id: Int); composable<DetailRoute> { entry -> DetailScreen(entry.toRoute<DetailRoute>().id) }","composable('detail/{id}') { backStackEntry -> val id = backStackEntry.arguments?.getString('id') }",High,https://developer.android.com/guide/navigation/design/type-safety
Navigation,Nested NavGraphs,Use nested navigation graphs for feature grouping,Separate NavGraph per feature module,Single flat navigation graph,"navigation<FeatureRoute>(startDestination = ListRoute) { composable<ListRoute> {}; composable<DetailRoute> {} }","All composable() in single NavHost // no grouping",Medium,https://developer.android.com/guide/navigation/design/nested-graphs
Navigation,Result Passing,Pass results back via SavedStateHandle,previousBackStackEntry.savedStateHandle for results,SharedViewModel or global state for screen results,"navController.previousBackStackEntry?.savedStateHandle?.set('result' value)","sharedViewModel.result = value // wrong scope",Medium,
Compose,Modifier.semantics,Add semantics for accessibility,Proper contentDescription and semantic properties,Skip accessibility annotations,"Image(painter icon contentDescription = 'Profile photo')","Image(painter icon contentDescription = null) // inaccessible",High,https://developer.android.com/develop/ui/compose/accessibility
Compose,SubcomposeLayout,Use SubcomposeLayout for dependent measurements,SubcomposeLayout when child size depends on sibling,BoxWithConstraints for all measurement needs,"SubcomposeLayout { constraints -> val mainPlaceable = subcompose('main') { MainContent() }.first().measure(constraints) }","BoxWithConstraints everywhere // less efficient",Low,
Compose,Shared Element Transitions,Use shared element transitions in Navigation,SharedTransitionLayout with AnimatedContent,No transition between screens,"SharedTransitionLayout { AnimatedContent(targetState) { state -> when(state) { ... } } }","No transitions between screens",Low,https://developer.android.com/develop/ui/compose/animation/shared-elements
